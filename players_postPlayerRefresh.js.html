<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: players/postPlayerRefresh.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: players/postPlayerRefresh.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const request = require('request')
const BaseURL = require('../../constants').BaseURL
const queryString = require('../../util/queryString')

/**
 * Requests a specified player's match history to be refreshed.
 * @param {string} account_id - Which account to request.
 * @param {Object} [{}] options - An object of options to query for (see https://docs.opendota.com/#tag/players%2Fpaths%2F~1players~1%7Baccount_id%7D~1wl%2Fget query paramanters for more details)
 */
function postPlayerRefresh(account_id, options) {
    let query = options ? `?${queryString(options)}` : ``
    return new Promise((resolve, reject) => {
        if (!account_id) reject('Please supply an account id!')
        this.bucket.enqueue(function () {
            request.post(`${BaseURL}/players/${account_id}/refresh${query}`, (err, response, body) => {
                if (!err &amp;&amp; response.statusCode == 200) {
                    resolve(JSON.parse(body))
                } else {
                    reject(response)
                }
            })
        })
    })
}

module.exports = postPlayerRefresh
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getBenchmarks">getBenchmarks</a></li><li><a href="global.html#getDistributions">getDistributions</a></li><li><a href="global.html#getHealth">getHealth</a></li><li><a href="global.html#getHeroes">getHeroes</a></li><li><a href="global.html#getHeroStats">getHeroStats</a></li><li><a href="global.html#getLeagues">getLeagues</a></li><li><a href="global.html#getMatch">getMatch</a></li><li><a href="global.html#getMetadata">getMetadata</a></li><li><a href="global.html#getPlayer">getPlayer</a></li><li><a href="global.html#getPlayerCounts">getPlayerCounts</a></li><li><a href="global.html#getPlayerHeroes">getPlayerHeroes</a></li><li><a href="global.html#getPlayerHistograms">getPlayerHistograms</a></li><li><a href="global.html#getPlayerMatches">getPlayerMatches</a></li><li><a href="global.html#getPlayerPeers">getPlayerPeers</a></li><li><a href="global.html#getPlayerPros">getPlayerPros</a></li><li><a href="global.html#getPlayerRankings">getPlayerRankings</a></li><li><a href="global.html#getPlayerRatings">getPlayerRatings</a></li><li><a href="global.html#getPlayerRecords">getPlayerRecords</a></li><li><a href="global.html#getPlayerWardmap">getPlayerWardmap</a></li><li><a href="global.html#getPlayerWL">getPlayerWL</a></li><li><a href="global.html#getPlayerWordcloud">getPlayerWordcloud</a></li><li><a href="global.html#getProMatches">getProMatches</a></li><li><a href="global.html#getProPlayers">getProPlayers</a></li><li><a href="global.html#getPublicMatches">getPublicMatches</a></li><li><a href="global.html#getRankings">getRankings</a></li><li><a href="global.html#getReplays">getReplays</a></li><li><a href="global.html#getRequestByJobId">getRequestByJobId</a></li><li><a href="global.html#getStatus">getStatus</a></li><li><a href="global.html#postPlayerRefresh">postPlayerRefresh</a></li><li><a href="global.html#postRequestByMatchId">postRequestByMatchId</a></li><li><a href="global.html#search">search</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Fri Feb 03 2017 14:35:11 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
